{$DOMAIN:mymonthlybudgetplan.app} {
  encode gzip zstd

  handle /api/* {
    reverse_proxy backend:8081
  }

  handle {
    root * /usr/share/caddy
    try_files {path} /index.html
    file_server
  }

  header /* {
    Cache-Control "public, max-age=31536000, immutable"
  }

  header /index.html {
    Cache-Control "no-cache, no-store, must-revalidate"
  }
}